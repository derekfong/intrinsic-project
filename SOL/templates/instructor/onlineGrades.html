{% extends "instructor/index.html" %}
{% block instructorcontent %}
    <h2>Input Student Grades</h2>
    {% if form %}
    	<div id="table">
		<h3 class="title">Generate Grade Form:</h3>
		<form action="" method="POST" enctype="multipart/form-data">
			{% csrf_token %}
			{% for field in form %}
			<div id="fieldWrapper">
				<div id="fieldSylLeft">
					{{ field.label_tag }}:
				</div>
				<div id="fieldSylRight">
						{{ field.errors }}
						{{ field }}
				</div>
			</div>
			{% endfor %}
			<div id="submit">
	    		<input type="submit" name="generate_form" value="Generate Grade Form" />
	    	</div>
		</form>
		</div>
    
    {% else %}
    	<div id="table">
    	<p class="message"><strong>{{ message }}</strong></p>
    	<form action="{{ classUrl }}instructor/grades/form/" method="POST">
			{% csrf_token %}
        	<p><input type="submit" name="back" value="Back" /></p>
    	</form>
    	</div>
    {% endif %}
    
    {% if activity %}
    	<div id="table">
		<h4>Activity: {{ activity.activity_name }}</h4>
		<table border=0>
			<tr>
				<td width=150>
					<strong>Last Name</strong>
				</td>
				<td width=200>
					<strong>First Name</strong>
				</td>
				<td width=175>
					<strong>SFU ID</strong>
				</td>
				<td width=175>
					<strong>Mark</strong>
				</td>
				<td>
					<strong>Comments</strong>
				</td>
			</tr>
		
			<form action="{{ activity.aid }}" method="POST">
			{% csrf_token %}
				{% for student in student_grades %}
					<tr>
						<td>
							{{ student.uid.user.last_name }}
						</td>
						<td>
							{{ student.uid.user.first_name }}
						</td>
						<td>
							{{ student.uid.sfu_id }}
						</td>
						<td>
							<input type="text" size="5" name="{{ student.uid.sfu_id }}" value="{{ student.mark }}"/> / {{ activity.out_of }}
						</td>
						<td>
							<a href="{{ classUrl }}instructor/grades/form/{{ student.uid.sfu_id }}/">Comment</a>
						</td>
					</tr>
				{% endfor %}
				<tr>
					<td></td><td></td><td></td><td></td>
					<td><input type="submit" name="update" value="Update Grades" /></td>
				</tr>
			</form>
		</table>
		</div>
	{% endif %}
    
{% endblock %}
